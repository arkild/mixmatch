{% extends 'base.html' %}

{% block content %}

<body class="">
    <h4 class="">Drink Details</h4>
<div class="row">
  <div class="">
    <div class="">
     
      <span class="">{{ drink.name }}</span>
      <h4 class="">Recipe</h4>

      <!-- Cite resource for listing items in array Django: https://docs.djangoproject.com/en/4.2/ref/templates/language/ -->
    <ul>
      {% for i in drink.ingredients %}
       <li>{{ i }} </li>
      {% endfor %}
      {% for m in drink.measurements %}
      <li>{{ m }} </li> 
      {% endfor %}
    </ul>
    <!-- <ul>-->
        <!-- {% for ingredient in drink.ingredients %}-->
        <!-- <li> {{ forloop.counter0 }} {{ drink.measurements }} : {{ drink.ingredients }}</li>-->
        <!-- {% endfor %}-->
    <!-- </ul> -->
    <!-- {% for i in drink.ingredients %}
    {% for m in drink.measurements %}
        <div>{{ forloop.counter0.i }}.&nbsp;{{ m }}</div>
    {% endfor %}
    {% endfor %} -->

      <p class="">Instructions: {{ drink.instructions }}</p>
      <p class="">Category: {{ drink.category }}</p>
      <p class="">Glass: {{ drink.glass }}</p>
    </div>

      <!-- Add update and delete -->
      <div class="">
        <a href="{% url 'drinks_update' drink.id %}">Edit</a>
        <a href="{% url 'drinks_delete' drink.id %}">Delete</a>
      </div>
    </div>
</div>
<!-- Display reviews -->
<div class="">
  <div class="">
    <h5>Reviews:</h5>
    {% for review in drink.review_set.all %}
    <div class="">
        <div class="">
            <span class="">{{ review.title }}</span>
            <p class="">{{ review.description }}</p>
        </div>
        <div class="">
            <a href="{% url 'review_update' review.id %}">Edit</a>
            <a href="{% url 'review_delete' review.id %}">Delete</a>
          </div>
        </div>
    {% empty %}
        <p class="">No reviews posted yet</p>
    {% endfor %}
    </div>
</div>
   <!-- Add review form on the same page -->
   <div class="col s6">
    <!-- add the action attribute as follows -->
        <form action="{% url 'add_review' drink.id %}" method="POST">
        {% csrf_token %}
        {{ review_form.as_p }}
        <input type="submit" class="btn" value="Add Review">
        </form>
    </div>
</body>
<!-- THIS WAS ADDED PER MATERIALIZE TO GET DROPDOWN -->
<!-- <script>
  const selectEl = document.getElementById('id_review');
  M.FormSelect.init(selectEl);
</script>    -->
{% endblock %}